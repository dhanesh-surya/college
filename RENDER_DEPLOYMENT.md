# ğŸš€ Render Deployment Guide for Django College Website

## Why Render?
- âœ… **No credit card required** for free tier
- âœ… **Free PostgreSQL database** included
- âœ… **Automatic HTTPS** and custom domains
- âœ… **Git-based deployments** - deploys on every push
- âœ… **Better than Heroku** - more generous free tier

## ğŸ“‹ Prerequisites
- GitHub account (to store your code)
- Render account (free signup)

## ğŸ”§ Step-by-Step Deployment

### Step 1: Push Code to GitHub
```bash
# Initialize git repository (if not already done)
git init
git add .
git commit -m "Initial commit for Render deployment"

# Create repository on GitHub and push
git remote add origin https://github.com/yourusername/chaitanya-college-website.git
git branch -M main
git push -u origin main
```

### Step 2: Create Render Account
1. Go to [render.com](https://render.com)
2. Sign up with GitHub (recommended)
3. Authorize Render to access your repositories

### Step 3: Create Web Service
1. **Click "New +"** â†’ **"Web Service"**
2. **Connect your GitHub repo**: `chaitanya-college-website`
3. **Configure service**:
   - **Name**: `chaitanya-college-website`
   - **Environment**: `Python 3`
   - **Build Command**: `./build.sh`
   - **Start Command**: `gunicorn chaitanya_site.wsgi:application`

### Step 4: Set Environment Variables
In the Render dashboard, add these environment variables:
```
DEBUG=False
SECRET_KEY=[Auto-generated by Render]
ALLOWED_HOSTS=your-app-name.onrender.com
PYTHON_VERSION=3.11.0
```

### Step 5: Create Database (Optional - Free PostgreSQL)
1. **Click "New +"** â†’ **"PostgreSQL"**
2. **Name**: `chaitanya-college-db`
3. **Plan**: Free
4. **Copy the Database URL** from dashboard
5. **Add to web service environment**:
   ```
   DATABASE_URL=postgresql://username:password@hostname:port/database
   ```

### Step 6: Deploy
1. **Click "Create Web Service"**
2. Render will automatically:
   - Clone your repository
   - Install dependencies
   - Run build script
   - Start your application
3. **First deployment takes 5-10 minutes**

### Step 7: Post-Deployment Setup
Once deployed, run these commands in Render's shell:
```bash
# Create superuser
python manage.py createsuperuser

# Load sample data (if you have fixtures)
python manage.py loaddata your_fixtures.json
```

## ğŸ“ Files Created for Render

### `render.yaml` (Infrastructure as Code)
```yaml
services:
  - type: web
    name: chaitanya-college-website
    env: python
    plan: free
    buildCommand: "./build.sh"
    startCommand: "gunicorn chaitanya_site.wsgi:application"
    envVars:
      - key: DEBUG
        value: False
      - key: SECRET_KEY
        generateValue: true

databases:
  - name: chaitanya-college-db
    plan: free
```

### `build.sh` (Build Script)
```bash
#!/usr/bin/env bash
set -o errexit

pip install -r requirements.txt
python manage.py collectstatic --no-input
python manage.py migrate
```

## ğŸ”§ Configuration Updates Made

### 1. Database Configuration
Updated `settings.py` to use `dj-database-url` for flexible database connections:
```python
import dj_database_url

DATABASES = {
    'default': dj_database_url.config(
        default='sqlite:///' + str(BASE_DIR / 'db.sqlite3'),
        conn_max_age=600,
        conn_health_checks=True,
    )
}
```

### 2. Added Dependencies
Added `dj-database-url==2.1.0` to `requirements.txt` for database URL parsing.

## ğŸŒ Access Your Site

After successful deployment:
- **Your site**: `https://your-app-name.onrender.com`
- **Admin panel**: `https://your-app-name.onrender.com/admin/`

## ğŸ”„ Automatic Deployments

Render automatically deploys when you push to GitHub:
```bash
# Make changes to your code
git add .
git commit -m "Update college website"
git push origin main
# Render automatically deploys!
```

## ğŸ“Š Monitoring & Logs

- **Dashboard**: View deployment status and logs
- **Metrics**: Monitor performance and uptime
- **Alerts**: Get notified of deployment issues

## ğŸ†˜ Troubleshooting

### Common Issues:

1. **Build fails**:
   - Check `build.sh` permissions: `chmod +x build.sh`
   - Verify all dependencies in `requirements.txt`

2. **Static files not loading**:
   - Ensure `python manage.py collectstatic` runs in build script
   - Check `STATIC_ROOT` and `STATIC_URL` settings

3. **Database connection errors**:
   - Verify `DATABASE_URL` environment variable
   - Check PostgreSQL service is running

4. **502 Bad Gateway**:
   - Check start command: `gunicorn chaitanya_site.wsgi:application`
   - Verify WSGI application path

### Useful Commands:
```bash
# View logs
render logs --service your-service-name

# Connect to shell
render shell --service your-service-name

# Manual deploy
render deploy --service your-service-name
```

## ğŸ’° Pricing

### Free Tier Includes:
- **Web Service**: 750 hours/month (enough for always-on)
- **PostgreSQL**: 1GB storage, 1 million rows
- **Bandwidth**: 100GB/month
- **Custom domains**: Unlimited
- **SSL certificates**: Free

### Upgrade Options:
- **Starter**: $7/month (always-on, more resources)
- **Standard**: $25/month (horizontal scaling)

## ğŸ‰ Next Steps

1. **Custom Domain**: Add your college's domain
2. **SSL Certificate**: Automatic with custom domains  
3. **Environment Variables**: Add any additional config
4. **Monitoring**: Set up health checks
5. **Backups**: Configure database backups

## ğŸ”— Useful Links

- [Render Documentation](https://render.com/docs)
- [Django on Render Guide](https://render.com/docs/deploy-django)
- [Environment Variables](https://render.com/docs/environment-variables)
- [Custom Domains](https://render.com/docs/custom-domains)

---

**Ready to deploy?** Push your code to GitHub and follow the steps above!
